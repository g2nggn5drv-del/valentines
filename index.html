<!DOCTYPE html>
<html>
<head>
    <title>Valentine's Game</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #percentage { width: 100%; height: 30px; background: #eee; }
        #percentage-fill { height: 100%; background: pink; width: 0%; }
        button { padding: 10px 20px; margin: 10px; font-size: 16px; }
        #confetti { display: none; }
    </style>
</head>
<body>
    <div id='stage-1'>
        <h2>Hello my love are you ready to play a game?</h2>
        <div id='stage-1-message'></div>
        <button id='stage-1-yes' onclick='startStage2()'>Yes</button>
        <button id='stage-1-no' onclick='teaseStage1()'>No</button>
    </div>

    <div id='stage-2' style='display:none;'>
        <h2>Will you be my Valentine?</h2>
        <button id='yes-button' onclick='accept()'>Yes</button>
        <button id='no-button' onclick='reject()' style='position: relative;'>No</button>
        <div id='percentage'><div id='percentage-fill'></div></div>
        <div id='message'></div>
    </div>

    <div id='stage-3' style='display:none;'>
        <h2>well as you know valentines is TODAY</h2>
    </div>

    <div id='stage-4' style='display:none;'>
        <h2>...</h2>
    </div>

    <div id='stage-5' style='display:none;'>
        <h2>Will you be so kind to accompany me on a virtual date today at 8pm your time?</h2>
        <button id='stage-5-yes' onclick='acceptDate()'>Yes</button>
        <button id='stage-5-no' onclick='rejectDate()'>No</button>
    </div>

    <div id='confetti' style='display:none;'>
        <h2>Yay! Let's celebrate!</h2>
        <!-- Placeholder for confetti animation -->
    </div>

    <script>
        let percentage = 0;
        let stage1NoCount = 0;
        let stage2NoCount = 0;
        let percentageInterval = null;

        const stage1Lines = [
            'Just a tiny warm-up ðŸ˜˜',
            'Come on, say yes and letâ€™s play!',
            'I promise itâ€™s fun! ðŸŽ®ðŸ’–',
            'You canâ€™t resist me forever ðŸ˜‰'
        ];

        const stage2Lines = [
            'No? Bold. ðŸ˜­',
            'That button seemsâ€¦ broken. ðŸ› ï¸',
            'Youâ€™re really gonna do me like that? ðŸ¥º',
            'Plot twist: you meant YES. ðŸ˜Œ',
            'Okay youâ€™re just here for the mini-game ðŸ˜‚',
            'Final boss activated. ðŸŽ®'
        ];

        function showStage(stageId) {
            const stages = ['stage-1', 'stage-2', 'stage-3', 'stage-4', 'stage-5', 'confetti'];
            stages.forEach((id) => {
                const stage = document.getElementById(id);
                stage.style.display = id === stageId ? 'block' : 'none';
            });
        }

        function moveNoButton(noButton) {
            noButton.style.position = 'absolute';
            noButton.style.top = Math.random() * 300 + 'px';
            noButton.style.left = Math.random() * 300 + 'px';
        }

        function startStage2() {
            document.getElementById('message').innerText = '';
            showStage('stage-2');
            startInteractiveFeatures();
        }

        function teaseStage1() {
            stage1NoCount += 1;
            const message = document.getElementById('stage-1-message');
            message.innerText = stage1Lines[Math.min(stage1NoCount - 1, stage1Lines.length - 1)];
            moveNoButton(document.getElementById('stage-1-no'));
        }

        function startPostValentineStages() {
            showStage('stage-3');
            setTimeout(() => { showStage('stage-4'); }, 1500);
            setTimeout(() => { showStage('stage-5'); }, 2400);
        }

        function accept() {
            // fun messages
            document.getElementById('message').innerText = 'Yay! You said Yes!';
            increasePercentage();
            setTimeout(() => { startPostValentineStages(); }, 700);
        }

        function reject() {
            // moving button feature
            stage2NoCount += 1;
            const noButton = document.getElementById('no-button');
            document.getElementById('message').innerText = stage2Lines[Math.min(stage2NoCount - 1, stage2Lines.length - 1)];
            moveNoButton(noButton);
        }

        function acceptDate() {
            showStage('confetti');
            celebrate();
        }

        function rejectDate() {
            moveNoButton(document.getElementById('stage-5-no'));
        }

        function increasePercentage() {
            percentage += 10;
            document.getElementById('percentage-fill').style.width = percentage + '%';
        }

        function celebrate() {
            // confetti logic goes here
            console.log('Celebrate!');
        }

        function startInteractiveFeatures() {
            if (!percentageInterval) {
                percentageInterval = setInterval(() => { if (percentage < 100) increasePercentage(); }, 1000);
            }
        }
    </script>
</body>
</html>
