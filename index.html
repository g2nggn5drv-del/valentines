<!DOCTYPE html>
<html>
<head>
    <title>Valentine's Game</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #percentage { width: 100%; height: 30px; background: #eee; }
        #percentage-fill { height: 100%; background: pink; width: 0%; }
        button { padding: 10px 20px; margin: 10px; font-size: 16px; }
        #confetti { display: none; }
    </style>
</head>
<body>
    <div id='stage-1'>
        <h2>Hello my love, are you ready to play a game?</h2>
        <button onclick='nextStage(1)'>Yes</button>
        <button onclick='nextStage(2)'>No</button>
    </div>

    <div id='stage-2' style='display:none;'>
        <h2>Will you be my Valentine?</h2>
        <button id='yes-button' onclick='accept()'>Yes</button>
        <button id='no-button' onclick='reject()' style='position: relative;'>No</button>
        <div id='percentage'><div id='percentage-fill'></div></div>
        <div id='message'></div>
    </div>

    <div id='stage-3' style='display:none;'>
        <h2>Well since it's Valentine's day today, I'd like to ask you another question.</h2>
    </div>

    <div id='stage-4' style='display:none;'>
        <h2>Will you be so kind to accompany me on a virtual date TODAY at 8pm your time? :)</h2>
        <button onclick='nextStage(3)'>Yes</button>
        <button onclick='nextStage(4)'>No</button>
    </div>

    <div id='confetti' style='display:none;'>
        <h2>Yay! Let's celebrate!</h2>
        <!-- Placeholder for confetti animation -->
    </div>

    <script>
        let percentage = 0;

        function nextStage(stage) {
            if (stage === 1) {
                document.getElementById('stage-1').style.display = 'none';
                document.getElementById('stage-2').style.display = 'block';
                startInteractiveFeatures();
            } else if (stage === 2) {
                document.getElementById('stage-2').style.display = 'none';
                document.getElementById('stage-3').style.display = 'block';
                setTimeout(() => { document.getElementById('stage-3').style.display = 'none'; document.getElementById('stage-4').style.display = 'block'; }, 2000);
            } else if (stage === 3) {
                document.getElementById('stage-4').style.display = 'none';
                document.getElementById('confetti').style.display = 'block';
                celebrate();
            }
        }

        function accept() {
            // fun messages
            document.getElementById('message').innerText = 'Yay! You said Yes!';
            increasePercentage();
        }

        function reject() {
            // moving button feature
            const noButton = document.getElementById('no-button');
            noButton.style.position = 'absolute';
            noButton.style.top = Math.random() * 300 + 'px';
            noButton.style.left = Math.random() * 300 + 'px';
        }

        function increasePercentage() {
            percentage += 10;
            document.getElementById('percentage-fill').style.width = percentage + '%';
        }

        function celebrate() {
            // confetti logic goes here
            console.log('Celebrate!');
        }

        function startInteractiveFeatures() {
            setInterval(() => { if (percentage < 100) increasePercentage(); }, 1000);
        }
    </script>
</body>
</html>